# ArticleList 组件测试总结

## 测试文件
- `ArticleList.spec.js` - ArticleList 组件的完整测试套件

## 测试覆盖范围

### 1. 组件渲染测试（2个）
- ✅ 组件正确渲染
- ✅ 显示标题

### 2. 文章列表显示测试（8个）
- ✅ 显示空列表
- ✅ 显示单个文章
- ✅ 显示多个文章
- ✅ 显示文章标题
- ✅ 显示文章摘要
- ✅ 显示作者信息
- ✅ 显示阅读数、评论数、点赞数
- ✅ 显示文章封面图片
- ✅ 显示标签列表

### 3. 置顶和原创标签测试（5个）
- ✅ 显示置顶标签（isStick = 1）
- ✅ 显示原创标签（isOriginal = 1）
- ✅ 同时显示置顶和原创标签
- ✅ 不显示置顶标签（isStick = 0）
- ✅ 不显示原创标签（isOriginal = 0）

### 4. 点击事件处理测试（3个）
- ✅ 调用 handleClick 方法
- ✅ 使用正确的文章 ID 进行路由跳转
- ✅ handleClick 方法处理不同的 ID

### 5. 图片错误处理测试（1个）
- ✅ 图片加载错误时替换为默认图片

### 6. WOW.js 初始化测试（1个）
- ✅ 在 mounted 时初始化 WOW.js

### 7. 日期格式化测试（2个）
- ✅ formatDate 正确格式化日期
- ✅ formatDate 正确处理月份和日期补零

### 8. 响应式数据更新测试（1个）
- ✅ 响应 articleList prop 的变化

### 9. 边界情况测试（5个）
- ✅ 处理空的标签列表
- ✅ 处理 null 或 undefined 的数值
- ✅ 处理大量文章的情况（50+）
- ✅ 处理空标题的情况
- ✅ 处理空摘要的情况

### 10. 组件结构测试（2个）
- ✅ 包含正确的 CSS 类名
- ✅ 正确渲染文章项结构

### 11. 数据绑定测试（3个）
- ✅ 正确绑定文章数据到模板
- ✅ 正确使用 v-for 渲染文章列表
- ✅ 正确使用 v-for 渲染标签列表

### 12. 条件渲染测试（2个）
- ✅ 根据 isStick 条件显示置顶标签
- ✅ 根据 isOriginal 条件显示原创标签

## 总计测试用例
**35+ 个测试用例**，覆盖了组件的主要功能

## Mock 配置

### 全局 Mock
- `$router` - Vue Router（路由跳转）
- `$wow` - WOW.js 动画库

### Mock 数据
- `mockArticleList` - 包含完整文章数据的数组
- 包含置顶、原创、标签等不同场景的数据

## 运行测试

```bash
# 运行测试
npm test -- src/tests/unit/ArticleList.spec.js

# 运行测试并生成覆盖率
npm test -- src/tests/unit/ArticleList.spec.js --coverage
```

## 测试特点

1. **遵循 NewlyArticle.spec.js 的模式**：
   - 使用相同的测试结构
   - 使用相同的 Mock 方式
   - 使用相同的断言风格

2. **覆盖主要功能**：
   - Props 数据绑定
   - 条件渲染（置顶、原创标签）
   - 事件处理（点击跳转）
   - 图片错误处理
   - WOW.js 初始化
   - 日期格式化

3. **边界情况处理**：
   - 空数据
   - null/undefined 值
   - 大量数据
   - 空字符串

## 代码覆盖率目标

- **Branches（分支）**: 70%
- **Functions（函数）**: 70%
- **Lines（行）**: 70%
- **Statements（语句）**: 70%

## 注意事项

1. **WOW.js Mock**：测试中 Mock 了 `$wow`，因为组件在 `mounted` 时会初始化 WOW.js
2. **图片错误处理**：测试了图片加载失败时的默认图片替换功能
3. **条件渲染**：测试了 `v-if` 条件渲染（置顶和原创标签）
4. **Props 更新**：测试了组件对 props 变化的响应

